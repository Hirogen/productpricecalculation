<UserControl x:Class="ProductPriceCalculator.Views.OperatingCostsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800">
    <StackPanel>
        <!-- Header -->
        <TextBlock Text="{Binding HeaderOperatingCosts}"
                   FontSize="20"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>
        <Rectangle Height="2" Fill="#0078D7" Margin="0,0,0,15"/>

        <!-- Info Banner -->
        <Border Background="#E6F2FF"
                BorderBrush="#0078D7"
                BorderThickness="2"
                CornerRadius="5"
                Padding="10"
                Margin="0,0,0,15">
            <TextBlock Text="{Binding InfoOperatingCostsBanner}"
                       TextWrapping="Wrap"
                       FontWeight="SemiBold"/>
        </Border>

        <!-- Add New Cost Section -->
        <Border Background="WhiteSmoke"
                BorderBrush="LightGray"
                BorderThickness="1"
                CornerRadius="5"
                Padding="15"
                Margin="0,0,0,20">
            <StackPanel>
                <TextBlock Text="{Binding HeaderAddNewCost}"
                           FontSize="14"
                           FontWeight="Bold"
                           Margin="0,0,0,10"/>

                <Label Content="{Binding LabelCostName}" FontWeight="SemiBold"/>
                <TextBox Text="{Binding NewCostName, UpdateSourceTrigger=PropertyChanged}"
                         Height="25"
                         Margin="0,0,0,10"
                         Width="400"/>

                <Label Content="{Binding LabelAmount}" FontWeight="SemiBold"/>
                <TextBox Text="{Binding NewCostAmount, UpdateSourceTrigger=PropertyChanged}"
                         Height="25"
                         Margin="0,0,0,10"
                         Width="400"/>

                <CheckBox Content="{Binding LabelIsMonthly}"
                          IsChecked="{Binding NewCostIsMonthly}"
                          Margin="0,0,0,10"/>

                <Button Content="{Binding ButtonAddCost}"
                        Command="{Binding AddCostCommand}"
                        Style="{StaticResource SuccessButtonStyle}"
                        Width="150"
                        HorizontalAlignment="Left"/>
            </StackPanel>
        </Border>

        <!-- Current Operating Costs List -->
        <TextBlock Text="{Binding HeaderCurrentCosts}"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>

        <DataGrid ItemsSource="{Binding OperatingCosts}"
                  SelectedItem="{Binding SelectedCost}"
                  AutoGenerateColumns="False"
                  Height="250"
                  Margin="0,0,0,10"
                  IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="{Binding DataContext.ColName, RelativeSource={RelativeSource AncestorType=UserControl}}" Binding="{Binding Name}" Width="*"/>
                <DataGridTextColumn Header="{Binding DataContext.ColAmount, RelativeSource={RelativeSource AncestorType=UserControl}}" Binding="{Binding Amount, StringFormat=C2}" Width="100"/>
                <DataGridTextColumn Header="{Binding DataContext.ColType, RelativeSource={RelativeSource AncestorType=UserControl}}" Binding="{Binding FrequencyText}" Width="200"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Summary and Actions -->
        <Border Background="#FFFACD"
                BorderBrush="#FFD700"
                BorderThickness="2"
                CornerRadius="5"
                Padding="10"
                Margin="0,0,0,15">
            <TextBlock FontSize="14" FontWeight="Bold">
                <Run Text="{Binding LabelTotalMonthlyCosts, Mode=OneWay}"/>
                <Run Text=" "/>
                <Run Text="{Binding TotalMonthlyCosts, Mode=OneWay, StringFormat=C2}"
                     Foreground="DarkGreen"
                     FontSize="16"/>
            </TextBlock>
        </Border>

        <Button Content="{Binding ButtonDeleteCost}"
                Command="{Binding DeleteCostCommand}"
                Style="{StaticResource DangerButtonStyle}"
                Width="200"
                HorizontalAlignment="Left"/>
    </StackPanel>
</UserControl>
