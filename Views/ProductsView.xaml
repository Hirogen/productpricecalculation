<UserControl x:Class="ProductPriceCalculator.Views.ProductsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800">
    <StackPanel>
        <!-- Products Section -->
        <TextBlock Text="{Binding HeaderProducts}"
                   FontSize="20"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>
        <Rectangle Height="2" Fill="#0078D7" Margin="0,0,0,15"/>

        <!-- Products List -->
        <DataGrid ItemsSource="{Binding Products}"
                  SelectedItem="{Binding SelectedProduct}"
                  AutoGenerateColumns="False"
                  Height="200"
                  Margin="0,0,0,10"
                  IsReadOnly="True"
                  SelectionMode="Single">
            <DataGrid.Columns>
                <DataGridTextColumn Header="{Binding DataContext.ColProductName, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding Name}" Width="*"/>
                <DataGridTextColumn Header="{Binding DataContext.ColProductCategory, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding ProductCategory}" Width="120"/>
                <DataGridTextColumn Header="{Binding DataContext.ColCompany, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding Company}" Width="120"/>
                <DataGridTextColumn Header="{Binding DataContext.ColBaseCost, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding BaseCost, Converter={StaticResource CurrencyConverter}}" Width="100"/>
                <DataGridTextColumn Header="{Binding DataContext.ColMarkup, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding Markup, StringFormat=F0}" Width="80"/>
                <DataGridTextColumn Header="{Binding DataContext.ColExpectedUnits, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding ExpectedMonthlyUnits, StringFormat=F0}" Width="120"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Products Buttons -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,30">
            <Button Content="{Binding ButtonNewProduct}"
                    Command="{Binding NewProductCommand}"
                    Style="{StaticResource PrimaryButtonStyle}"
                    Width="150" Margin="0,0,10,0"/>
            <Button Content="{Binding ButtonLoadProduct}"
                    Command="{Binding LoadProductCommand}"
                    Style="{StaticResource SuccessButtonStyle}"
                    Width="150" Margin="0,0,10,0"/>
            <Button Content="{Binding ButtonDeleteProduct}"
                    Command="{Binding DeleteProductCommand}"
                    Style="{StaticResource DangerButtonStyle}"
                    Width="120" Margin="0,0,10,0"/>
            <Button Content="{Binding ButtonConvertToComponent}"
                    Command="{Binding ConvertToComponentCommand}"
                    Style="{StaticResource SecondaryButtonStyle}"
                    Width="180"/>
        </StackPanel>

        <!-- Components Section -->
        <TextBlock Text="{Binding HeaderComponents}"
                   FontSize="20"
                   FontWeight="Bold"
                   Margin="0,20,0,10"/>
        <Rectangle Height="2" Fill="#0078D7" Margin="0,0,0,15"/>

        <!-- Components List -->
        <DataGrid ItemsSource="{Binding Components}"
                  SelectedItem="{Binding SelectedComponent}"
                  AutoGenerateColumns="False"
                  Height="200"
                  Margin="0,0,0,10"
                  IsReadOnly="True"
                  SelectionMode="Single">
            <DataGrid.Columns>
                <DataGridTextColumn Header="{Binding DataContext.ColComponentName, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding Name}" Width="*"/>
                <DataGridTextColumn Header="{Binding DataContext.ColProductCategory, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding ProductCategory}" Width="120"/>
                <DataGridTextColumn Header="{Binding DataContext.ColCompany, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding Company}" Width="120"/>
                <DataGridTextColumn Header="{Binding DataContext.ColBaseCost, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding BaseCost, Converter={StaticResource CurrencyConverter}}" Width="100"/>
                <DataGridTextColumn Header="{Binding DataContext.ColUnitsPerPackage, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                    Binding="{Binding UnitsPerPackage, StringFormat=F0}" Width="120"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Components Buttons -->
        <StackPanel Orientation="Horizontal">
            <Button Content="{Binding ButtonNewComponent}"
                    Command="{Binding NewComponentCommand}"
                    Style="{StaticResource PrimaryButtonStyle}"
                    Width="180" Margin="0,0,10,0"/>
            <Button Content="{Binding ButtonLoadComponent}"
                    Command="{Binding LoadComponentCommand}"
                    Style="{StaticResource SuccessButtonStyle}"
                    Width="150" Margin="0,0,10,0"/>
            <Button Content="{Binding ButtonDeleteComponent}"
                    Command="{Binding DeleteComponentCommand}"
                    Style="{StaticResource DangerButtonStyle}"
                    Width="120" Margin="0,0,10,0"/>
            <Button Content="{Binding ButtonConvertToProduct}"
                    Command="{Binding ConvertToProductCommand}"
                    Style="{StaticResource SecondaryButtonStyle}"
                    Width="180"/>
        </StackPanel>
    </StackPanel>
</UserControl>
